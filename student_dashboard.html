<!DOCTYPE html>
<html lang="tr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>√ñƒürenci Paneli | YKS Hazƒ±rlƒ±k Platformu</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0a0f1a;
      --bg-secondary: #0f172a;
      --surface: #1e293b;
      --border: rgba(255, 255, 255, 0.08);
      --text: #f1f5f9;
      --text-muted: #94a3b8;
      --primary: #3b82f6;
      --secondary: #8b5cf6;
      --gradient: linear-gradient(135deg, var(--primary), var(--secondary));
      --success: #22c55e;
      --warning: #f59e0b;
      --radius: 16px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
    }

    .bg-glow {
      position: fixed;
      width: 600px;
      height: 600px;
      border-radius: 50%;
      filter: blur(150px);
      opacity: 0.1;
      pointer-events: none;
      z-index: 0;
    }

    .bg-glow-1 {
      top: -200px;
      left: -100px;
      background: var(--primary);
    }

    .bg-glow-2 {
      bottom: -200px;
      right: -100px;
      background: var(--secondary);
    }

    /* Header */
    .header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: rgba(10, 15, 26, 0.9);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
      padding: 16px 24px;
    }

    .header-content {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .logo {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
      color: var(--text);
    }


    .logo-icon {
      width: 40px;
      height: 40px;
      background: none;
      border-radius: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
    }

    .logo-text {
      font-size: 18px;
      font-weight: 700;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .user-info {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 8px 16px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
    }

    .user-avatar {
      width: 36px;
      height: 36px;
      background: var(--gradient);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: 600;
    }

    .user-name {
      font-size: 14px;
      font-weight: 500;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 18px;
      border-radius: 10px;
      font-weight: 500;
      font-size: 14px;
      cursor: pointer;
      border: none;
      transition: all 0.2s;
      text-decoration: none;
      font-family: inherit;
    }

    .btn-outline {
      background: transparent;
      color: var(--text-muted);
      border: 1px solid var(--border);
    }

    .btn-outline:hover {
      background: rgba(255, 255, 255, 0.05);
      color: var(--text);
    }

    .btn-danger {
      background: rgba(239, 68, 68, 0.15);
      color: #fca5a5;
      border: 1px solid rgba(239, 68, 68, 0.3);
    }

    .btn-danger:hover {
      background: rgba(239, 68, 68, 0.25);
    }

    /* Main Content */
    .main {
      max-width: 1400px;
      margin: 0 auto;
      padding: 32px 24px;
      position: relative;
      z-index: 1;
    }

    /* Welcome Section */
    .welcome-section {
      margin-bottom: 40px;
    }

    .welcome-card {
      background: var(--gradient);
      border-radius: 20px;
      padding: 40px;
      position: relative;
      overflow: hidden;
    }

    .welcome-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
      opacity: 0.3;
    }

    .welcome-content {
      position: relative;
    }

    .welcome-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 100px;
      font-size: 13px;
      margin-bottom: 16px;
    }

    .welcome-title {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .welcome-subtitle {
      font-size: 16px;
      opacity: 0.9;
    }

    /* Stats Grid */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
      margin-bottom: 40px;
    }

    .stat-card {
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.02) 100%);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 24px;
    }

    .stat-icon {
      width: 48px;
      height: 48px;
      background: rgba(59, 130, 246, 0.15);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      margin-bottom: 16px;
    }

    .stat-value {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .stat-label {
      font-size: 14px;
      color: var(--text-muted);
    }

    /* Category Section */
    .section-title {
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 20px;
    }

    .categories-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 24px;
      margin-bottom: 40px;
    }

    .category-card {
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.02) 100%);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 32px;
      text-align: center;
      transition: all 0.3s;
      cursor: pointer;
      text-decoration: none;
      color: var(--text);
    }

    .category-card:hover {
      transform: translateY(-4px);
      border-color: var(--primary);
      box-shadow: 0 20px 60px rgba(59, 130, 246, 0.15);
    }

    .category-icon {
      font-size: 56px;
      margin-bottom: 16px;
    }

    .category-title {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .category-subtitle {
      font-size: 14px;
      color: var(--text-muted);
      margin-bottom: 16px;
    }

    .category-badge {
      display: inline-block;
      padding: 8px 16px;
      background: rgba(59, 130, 246, 0.15);
      border: 1px solid rgba(59, 130, 246, 0.3);
      border-radius: 100px;
      font-size: 13px;
      color: #93c5fd;
    }

    /* Progress Section */
    .progress-section {
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.06) 0%, rgba(255, 255, 255, 0.02) 100%);
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 32px;
    }

    .progress-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 24px;
    }

    .progress-title {
      font-size: 18px;
      font-weight: 600;
    }

    .progress-list {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .progress-item {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 16px;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 12px;
    }

    .progress-item-icon {
      width: 44px;
      height: 44px;
      background: var(--gradient);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
    }

    .progress-item-info {
      flex: 1;
    }

    .progress-item-title {
      font-size: 15px;
      font-weight: 500;
      margin-bottom: 8px;
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 100px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: var(--gradient);
      border-radius: 100px;
      transition: width 0.5s ease;
    }

    .progress-item-percent {
      font-size: 14px;
      font-weight: 600;
      color: var(--primary);
    }

    .empty-state {
      text-align: center;
      padding: 40px;
      color: var(--text-muted);
    }

    .empty-state-icon {
      font-size: 48px;
      margin-bottom: 16px;
      opacity: 0.5;
    }

    .progress-item-details {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .progress-item-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .progress-item-topic {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .progress-item-topic span {
      color: var(--primary);
    }

    .btn-continue {
      background: var(--gradient);
      color: white;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 600;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: all 0.2s;
      border: none;
      cursor: pointer;
    }

    .btn-continue:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
    }

    .progress-item-actions {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    @media (max-width: 1024px) {
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 768px) {

      .stats-grid,
      .categories-grid {
        grid-template-columns: 1fr;
      }

      .header-content {
        flex-wrap: wrap;
        gap: 16px;
      }

      .welcome-card {
        padding: 24px;
      }

      .welcome-title {
        font-size: 24px;
      }
    }

    .logo-img {
      width: 34px;
      height: auto;
      object-fit: contain;
      display: block;
    }
  </style>
</head>

<body>
  <!-- Background Effects -->
  <div class="bg-glow bg-glow-1"></div>
  <div class="bg-glow bg-glow-2"></div>

  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <a href="index.html" class="logo">
        <div class="logo-icon">
          <img src="seba.png" alt="SEBA Akademi" class="logo-img">
        </div>

        <span class="logo-text">SEBA Akademi</span>
      </a>

      <div class="header-right">
        <div class="user-info">
          <div class="user-avatar" id="userAvatar">üë§</div>
          <span class="user-name" id="userName">Y√ºkleniyor...</span>
        </div>
        <button class="btn btn-danger" onclick="logout()">
          üö™ √áƒ±kƒ±≈ü
        </button>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main">
    <!-- Welcome Section -->
    <section class="welcome-section">
      <div class="welcome-card">
        <div class="welcome-content">
          <div class="welcome-badge">
            üéØ YKS 2025 Hazƒ±rlƒ±k
          </div>
          <h1 class="welcome-title">Ho≈ü Geldin, <span id="welcomeName">√ñƒürenci</span>!</h1>
          <p class="welcome-subtitle">Bug√ºn hangi derse √ßalƒ±≈ümak istersin? Bir kategori se√ßerek ba≈üla.</p>
        </div>
      </div>
    </section>

    <!-- Stats Grid -->
    <section class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon">üìπ</div>
        <div class="stat-value" id="videosWatched">0</div>
        <div class="stat-label">Video ƒ∞zlendi</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">üìù</div>
        <div class="stat-value" id="testsCompleted">0</div>
        <div class="stat-label">Test Tamamlandƒ±</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">üìä</div>
        <div class="stat-value" id="vboPercent">%0</div>
        <div class="stat-label">Ortalama VBO</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">üî•</div>
        <div class="stat-value" id="streakDays">0</div>
        <div class="stat-label">G√ºnl√ºk Seri</div>
      </div>
    </section>

    <!-- Categories -->
    <h2 class="section-title">üìö Sƒ±nav Kategorisi Se√ß</h2>
    <section class="categories-grid">
      <a href="courses.html?category=tyt" class="category-card">
        <div class="category-icon">üìò</div>
        <h3 class="category-title">TYT</h3>
        <p class="category-subtitle">Temel Yeterlilik Testi</p>
        <span class="category-badge">Matematik ‚Ä¢ T√ºrk√ße ‚Ä¢ Fen ‚Ä¢ Sosyal</span>
      </a>

      <a href="courses.html?category=ayt" class="category-card">
        <div class="category-icon">üìó</div>
        <h3 class="category-title">AYT</h3>
        <p class="category-subtitle">Alan Yeterlilik Testi</p>
        <span class="category-badge">Sayƒ±sal ‚Ä¢ S√∂zel ‚Ä¢ E≈üit Aƒüƒ±rlƒ±k</span>
      </a>
    </section>

    <!-- Progress Section -->
    <section class="progress-section">
      <div class="progress-header">
        <h3 class="progress-title">üìà Son ƒ∞lerlemen</h3>
      </div>
      <div class="progress-list" id="progressList">
        <div class="empty-state">
          <div class="empty-state-icon">üìñ</div>
          <p>Hen√ºz ilerleme yok. Bir kategori se√ßerek √ßalƒ±≈ümaya ba≈üla!</p>
        </div>
      </div>
    </section>
  </main>

  <script>
    // Check authentication
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));

    if (!currentUser || !currentUser.loggedIn) {
      window.location.href = 'login.html';
    } else if (currentUser.role === 'admin') {
      window.location.href = 'admin_dashboard.html';
    }

    // Update UI with user info
    if (currentUser) {
      document.getElementById('userName').textContent = currentUser.name;
      document.getElementById('welcomeName').textContent = currentUser.name.split(' ')[0];
      document.getElementById('userAvatar').textContent = currentUser.name.charAt(0).toUpperCase();
    }

    // Load user stats from localStorage
    function loadStats() {
      const stats = JSON.parse(localStorage.getItem(`stats_${currentUser.email}`)) || {
        videosWatched: 0,
        testsCompleted: 0,
        vboPercent: 0,
        streakDays: 0
      };

      document.getElementById('videosWatched').textContent = stats.videosWatched;
      document.getElementById('testsCompleted').textContent = stats.testsCompleted;
      document.getElementById('vboPercent').textContent = `%${stats.vboPercent}`;
      document.getElementById('streakDays').textContent = stats.streakDays;
    }

    loadStats();

    // Course data for progress display - 2025 YKS m√ºfredatƒ±
    const COURSE_DATA = {
      // TYT Courses
      'mat': { name: 'Matematik', icon: 'üìê', category: 'tyt' },
      'geo': { name: 'Geometri', icon: 'üìè', category: 'tyt' },
      'trk': { name: 'T√ºrk√ße', icon: 'üìù', category: 'tyt' },
      'fiz': { name: 'Fizik', icon: '‚ö°', category: 'tyt' },
      'kim': { name: 'Kimya', icon: 'üß™', category: 'tyt' },
      'bio': { name: 'Biyoloji', icon: 'üß¨', category: 'tyt' },
      'tar': { name: 'Tarih', icon: 'üìú', category: 'tyt' },
      'cog': { name: 'Coƒürafya', icon: 'üåç', category: 'tyt' },
      'fel': { name: 'Felsefe', icon: 'ü§î', category: 'tyt' },
      'din': { name: 'Din K√ºlt√ºr√º', icon: 'üïå', category: 'tyt' },
      // AYT Courses
      'ayt-mat': { name: 'AYT Matematik', icon: 'üìä', category: 'ayt' },
      'ayt-geo': { name: 'AYT Geometri', icon: 'üìê', category: 'ayt' },
      'ayt-fiz': { name: 'AYT Fizik', icon: 'üî≠', category: 'ayt' },
      'ayt-kim': { name: 'AYT Kimya', icon: '‚öóÔ∏è', category: 'ayt' },
      'ayt-bio': { name: 'AYT Biyoloji', icon: 'üî¨', category: 'ayt' },
      'edeb': { name: 'Edebiyat', icon: 'üìñ', category: 'ayt' },
      'ayt-tar1': { name: 'Tarih-1', icon: 'üèõÔ∏è', category: 'ayt' },
      'ayt-tar2': { name: 'Tarih-2', icon: '‚öîÔ∏è', category: 'ayt' },
      'ayt-cog': { name: 'AYT Coƒürafya', icon: 'üó∫Ô∏è', category: 'ayt' },
      'ayt-fel': { name: 'Felsefe Grubu', icon: 'üí≠', category: 'ayt' }
    };

    // Topic names - 2025 YKS m√ºfredatƒ±na g√∂re g√ºncel
    const TOPIC_NAMES = {
      'mat': { 1: 'Temel Kavramlar', 2: 'Sayƒ± Basamaklarƒ±', 3: 'B√∂lme ve B√∂l√ºnebilme', 4: 'EBOB - EKOK', 5: 'Rasyonel Sayƒ±lar', 6: 'Basit E≈üitsizlikler', 7: 'Mutlak Deƒüer', 8: '√úsl√º Sayƒ±lar', 9: 'K√∂kl√º Sayƒ±lar', 10: '√áarpanlara Ayƒ±rma', 11: 'Oran - Orantƒ±', 12: 'Denklem √á√∂zme', 13: 'Problemler', 14: 'K√ºmeler', 15: 'Mantƒ±k', 16: 'Fonksiyonlar', 17: 'Polinomlar', 18: 'ƒ∞kinci Dereceden Denklemler', 19: 'Perm√ºtasyon ve Kombinasyon', 20: 'Olasƒ±lƒ±k', 21: 'Veri ve ƒ∞statistik' },
      'geo': { 1: 'Temel Kavramlar ve A√ßƒ±lar', 2: '√ú√ßgenler', 3: 'Dik √ú√ßgen ve Trigonometri', 4: 'D√∂rtgenler', 5: '√áokgenler', 6: '√áember ve Daire', 7: 'Katƒ± Cisimler', 8: 'Analitik Geometri Temelleri' },
      'trk': { 1: 'S√∂zc√ºkte Anlam', 2: 'C√ºmlede Anlam', 3: 'Paragrafta Anlam', 4: 'Ses Bilgisi', 5: 'S√∂zc√ºk Yapƒ±sƒ±', 6: 'S√∂zc√ºk T√ºrleri', 7: 'C√ºmlenin √ñƒüeleri', 8: 'C√ºmle T√ºrleri', 9: 'Anlatƒ±m Bozukluklarƒ±', 10: 'Yazƒ±m Kurallarƒ±', 11: 'Noktalama ƒ∞≈üaretleri' },
      'fiz': { 1: 'Fizik Bilimine Giri≈ü', 2: 'Madde ve √ñzellikleri', 3: 'Basƒ±n√ß ve Kaldƒ±rma Kuvveti', 4: 'Hareket ve Kuvvet', 5: 'ƒ∞≈ü, G√º√ß ve Enerji', 6: 'Isƒ±, Sƒ±caklƒ±k ve Genle≈üme', 7: 'Elektrostatik', 8: 'Elektrik Akƒ±mƒ± ve Devreler', 9: 'Manyetizma', 10: 'Dalgalar', 11: 'Optik' },
      'kim': { 1: 'Kimya Bilimi ve G√ºvenlik', 2: 'Atom Modelleri ve Yapƒ±sƒ±', 3: 'Periyodik Sistem', 4: 'Kimyasal T√ºrler Arasƒ± Etkile≈üimler', 5: 'Maddenin Halleri', 6: 'Karƒ±≈üƒ±mlar ve √á√∂zeltiler', 7: 'Asitler, Bazlar ve Tuzlar', 8: 'Kimyanƒ±n Temel Kanunlarƒ±', 9: 'Mol Kavramƒ± ve Hesaplamalar', 10: 'Kimya Her Yerde' },
      'bio': { 1: 'Canlƒ±larƒ±n Ortak √ñzellikleri', 2: 'Canlƒ±lardaki Temel Bile≈üikler', 3: 'H√ºcre ve Organeller', 4: 'Canlƒ±larƒ±n Sƒ±nƒ±flandƒ±rƒ±lmasƒ±', 5: 'Mitoz ve E≈üeysiz √úreme', 6: 'Mayoz ve E≈üeyli √úreme', 7: 'Kalƒ±tƒ±m (Mendel Genetiƒüi)', 8: 'Ekosistem ve Madde D√∂ng√ºleri', 9: '√áevre Sorunlarƒ±' },
      'tar': { 1: 'Tarih Bilimi', 2: 'ƒ∞lk √áaƒü Uygarlƒ±klarƒ±', 3: 'ƒ∞lk T√ºrk Devletleri', 4: 'ƒ∞slam Tarihi ve T√ºrkler', 5: 'T√ºrkiye Tarihi (Sel√ßuklu)', 6: 'Osmanlƒ± Kurulu≈ü D√∂nemi' },
      'cog': { 1: 'Coƒürafya Bilimi ve Harita', 2: 'D√ºnya\'nƒ±n ≈ûekli ve Hareketleri', 3: 'ƒ∞klim Bilgisi', 4: 'T√ºrkiye\'nin ƒ∞klimi', 5: 'Yery√ºz√º ≈ûekilleri', 6: 'N√ºfus ve Yerle≈üme' },
      'fel': { 1: 'Felsefeye Giri≈ü', 2: 'Bilgi Felsefesi', 3: 'Varlƒ±k Felsefesi', 4: 'Ahlak Felsefesi', 5: 'Din Felsefesi' },
      'din': { 1: 'ƒ∞slam ve ƒ∞badet', 2: 'Hz. Muhammed\'in Hayatƒ±', 3: 'Kur\'an ve Yorumlanmasƒ±', 4: 'Din ve Hayat', 5: 'Ya≈üayan Dinler' },
      'ayt-mat': { 1: 'Fonksiyonlar (ƒ∞leri)', 2: 'Polinomlar', 3: 'ƒ∞kinci Dereceden Denklemler', 4: 'Parabol', 5: 'Karma≈üƒ±k Sayƒ±lar', 6: 'ƒ∞kinci Dereceden E≈üitsizlikler', 7: 'Trigonometri', 8: 'Toplam - √áarpƒ±m Sembolleri', 9: 'Diziler', 10: 'Logaritma', 11: 'Limit ve S√ºreklilik', 12: 'T√ºrev', 13: 'T√ºrev Uygulamalarƒ±', 14: 'ƒ∞ntegral', 15: 'ƒ∞ntegral Uygulamalarƒ±' },
      'ayt-geo': { 1: '√ú√ßgenlerde E≈ülik ve Benzerlik', 2: '√ú√ßgende Alan', 3: '√áemberin Analitik ƒ∞ncelemesi', 4: 'D√∂rtgenlerin Alanlarƒ±', 5: 'Katƒ± Cisimlerin Hacimleri', 6: 'Analitik Geometri' },
      'ayt-fiz': { 1: 'Vekt√∂rler', 2: 'Baƒüƒ±l Hareket', 3: 'Newton Hareket Yasalarƒ± (ƒ∞leri)', 4: 'ƒ∞≈ü, Enerji ve G√º√ß (ƒ∞leri)', 5: 'ƒ∞mpuls ve Momentum', 6: 'Tork ve Denge', 7: 'Basit Harmonik Hareket', 8: 'Dalga Mekaniƒüi', 9: 'Elektrik Alan ve Potansiyel', 10: 'Manyetik Alan ve Kuvvet', 11: 'Elektromanyetik ƒ∞nd√ºksiyon', 12: 'Alternatif Akƒ±m', 13: 'Atom Fiziƒüine Giri≈ü', 14: 'Modern Fizik' },
      'ayt-kim': { 1: 'Kimyasal Tepkimelerde Enerji', 2: 'Tepkime Hƒ±zlarƒ±', 3: 'Kimyasal Denge', 4: '√á√∂z√ºn√ºrl√ºk Dengesi', 5: 'Asit-Baz Dengesi ve pH', 6: 'Elektrokimya', 7: 'Organik Kimyaya Giri≈ü', 8: 'Hidrokarbonlar', 9: 'Fonksiyonel Gruplar', 10: 'Organik Tepkimeler', 11: 'Polimerler', 12: 'Enerji Kaynaklarƒ±' },
      'ayt-bio': { 1: 'N√ºkleik Asitler ve Protein Sentezi', 2: 'Enerji D√∂n√º≈ü√ºmleri', 3: 'Sinir Sistemi', 4: 'Endokrin Sistem', 5: 'Duyu Organlarƒ±', 6: 'Destek ve Hareket', 7: 'Sindirim Sistemi', 8: 'Dola≈üƒ±m ve Baƒüƒ±≈üƒ±klƒ±k', 9: 'Solunum Sistemi', 10: 'Bo≈üaltƒ±m Sistemi', 11: '√úreme Sistemi', 12: 'Pop√ºlasyon Ekolojisi', 13: 'Genetik M√ºhendisliƒüi' },
      'edeb': { 1: 'Edebiyata Giri≈ü', 2: '≈ûiir Bilgisi', 3: 'Edebi Akƒ±mlar', 4: 'ƒ∞slamiyet √ñncesi T√ºrk Edebiyatƒ±', 5: 'Divan Edebiyatƒ±', 6: 'Halk Edebiyatƒ±', 7: 'Tanzimat Edebiyatƒ±', 8: 'Servetif√ºnun Edebiyatƒ±', 9: 'Fecr-i Ati', 10: 'Milli Edebiyat', 11: 'Cumhuriyet D√∂nemi' },
      'ayt-tar1': { 1: 'Osmanlƒ± K√ºlt√ºr ve Medeniyeti', 2: 'Osmanlƒ± Duraklama D√∂nemi', 3: 'Osmanlƒ± Gerileme D√∂nemi', 4: 'Osmanlƒ± Daƒüƒ±lma D√∂nemi', 5: 'Kurtulu≈ü Sava≈üƒ± Hazƒ±rlƒ±k', 6: 'Kurtulu≈ü Sava≈üƒ± Muharebeleri', 7: 'Atat√ºrk ƒ∞lkeleri ve ƒ∞nkƒ±laplar' },
      'ayt-tar2': { 1: '19. Y√ºzyƒ±lda Avrupa', 2: 'I. D√ºnya Sava≈üƒ±', 3: 'ƒ∞ki Sava≈ü Arasƒ± D√∂nem', 4: 'II. D√ºnya Sava≈üƒ±', 5: 'Soƒüuk Sava≈ü D√∂nemi', 6: 'Yumu≈üama D√∂nemi', 7: 'SSCB\'nin Daƒüƒ±lmasƒ±', 8: 'K√ºreselle≈üen D√ºnya' },
      'ayt-cog': { 1: 'Doƒüal Sistemler', 2: 'Be≈üeri Sistemler', 3: 'T√ºrkiye\'nin B√∂lgeleri', 4: 'Ekonomik Coƒürafya', 5: 'K√ºresel B√∂lgeler ve √úlkeler', 6: '√áevre ve Toplum', 7: 'T√ºrkiye Ekonomik Coƒürafyasƒ±' },
      'ayt-fel': { 1: 'Psikoloji', 2: 'Sosyoloji', 3: 'Mantƒ±k', 4: 'Felsefe Tarihi' }
    };

    // Load recent progress from localStorage
    function loadRecentProgress() {
      const progressList = document.getElementById('progressList');

      // Get VBO progress data
      const vboData = JSON.parse(localStorage.getItem(`vbo_${currentUser.email}`)) || {};
      const topicProgress = JSON.parse(localStorage.getItem(`topicProgress_${currentUser.email}`)) || {};

      // Collect course progress from VBO data
      const courseProgress = {};

      // Parse VBO keys: courseId_topicId_videoId
      Object.entries(vboData).forEach(([key, vbo]) => {
        const parts = key.split('_');
        if (parts.length >= 2) {
          const courseId = parts[0];
          const topicId = parseInt(parts[1]);

          if (!courseProgress[courseId]) {
            courseProgress[courseId] = {
              totalVBO: 0,
              videoCount: 0,
              completedVideos: 0,
              lastTopic: null,
              lastTopicId: 0
            };
          }

          courseProgress[courseId].totalVBO += vbo;
          courseProgress[courseId].videoCount++;
          if (vbo >= 80) courseProgress[courseId].completedVideos++;

          // Track the highest topic as "last topic"
          if (topicId > courseProgress[courseId].lastTopicId) {
            courseProgress[courseId].lastTopicId = topicId;
          }
        }
      });

      // Also check topicProgress for in-progress/completed topics
      Object.entries(topicProgress).forEach(([key, status]) => {
        if (status === 'in-progress' || status === 'completed') {
          const parts = key.split('_');
          if (parts.length >= 2) {
            const courseId = parts[0];
            const topicId = parseInt(parts[1]);

            if (!courseProgress[courseId]) {
              courseProgress[courseId] = {
                totalVBO: 0,
                videoCount: 0,
                completedVideos: 0,
                lastTopic: null,
                lastTopicId: topicId
              };
            } else if (topicId > courseProgress[courseId].lastTopicId) {
              courseProgress[courseId].lastTopicId = topicId;
            }
          }
        }
      });

      // Filter to courses that have been started
      const startedCourses = Object.entries(courseProgress)
        .filter(([courseId, data]) => data.videoCount > 0 || data.lastTopicId > 0)
        .map(([courseId, data]) => {
          const courseInfo = COURSE_DATA[courseId];
          if (!courseInfo) return null;

          const percent = data.videoCount > 0
            ? Math.round(data.totalVBO / data.videoCount)
            : 0;

          const lastTopicName = TOPIC_NAMES[courseId] && TOPIC_NAMES[courseId][data.lastTopicId]
            ? TOPIC_NAMES[courseId][data.lastTopicId]
            : `Konu ${data.lastTopicId}`;

          return {
            courseId,
            name: courseInfo.name,
            icon: courseInfo.icon,
            category: courseInfo.category,
            percent,
            completedVideos: data.completedVideos,
            totalVideos: data.videoCount,
            lastTopicId: data.lastTopicId,
            lastTopicName
          };
        })
        .filter(c => c !== null)
        .sort((a, b) => b.percent - a.percent); // Sort by progress

      // Render
      if (startedCourses.length === 0) {
        progressList.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">üìñ</div>
            <p>Hen√ºz ilerleme yok. Bir kategori se√ßerek √ßalƒ±≈ümaya ba≈üla!</p>
          </div>
        `;
        return;
      }

      progressList.innerHTML = startedCourses.map(course => `
        <div class="progress-item">
          <div class="progress-item-icon">${course.icon}</div>
          <div class="progress-item-details">
            <div class="progress-item-header">
              <span class="progress-item-title">${course.name}</span>
              <span class="progress-item-percent">%${course.percent}</span>
            </div>
            <div class="progress-bar">
              <div class="progress-fill" style="width: ${course.percent}%"></div>
            </div>
            <div class="progress-item-topic">
              Son √ßalƒ±≈üƒ±lan: <span>${course.lastTopicName}</span>
            </div>
          </div>
          <div class="progress-item-actions">
            <a href="lesson.html?category=${course.category}&course=${course.courseId}&topic=${course.lastTopicId}" class="btn-continue">
              ‚ñ∂Ô∏è Devam Et
            </a>
          </div>
        </div>
      `).join('');
    }

    loadRecentProgress();

    // Category selection - now redirects to courses page
    function selectCategory(category) {
      window.location.href = `courses.html?category=${category}`;
    }

    // Logout function
    function logout() {
      localStorage.removeItem('currentUser');
      window.location.href = 'login.html';
    }
  </script>
</body>

</html>